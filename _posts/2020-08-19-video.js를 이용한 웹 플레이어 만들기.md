---
layout: post
title: video.jsë¥¼ ì´ìš©í•œ ì›¹ í”Œë ˆì´ì–´ ë§Œë“¤ê¸°
tags: [video.js]
comments: true
---
[video.js](https://videojs.com/) ì˜¤í”ˆ ì†ŒìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì›¹ í”Œë ˆì´ì–´ë¥¼ ë§Œë“¤ì–´ ë³´ë ¤ê³  í•œë‹¤.

CDN í˜•ì‹ìœ¼ë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ ê¸°ëŠ¥ì„ ì‚´ì§ ë³€ê²½í•´ ë³¼ ì˜ˆì •ì´ë¼ ì†ŒìŠ¤ë¥¼ ì§ì ‘ ë°›ì•˜ë‹¤.  ([ì°¸ê³ ](https://videojs.com/getting-started/#customize)) 

### 1. í”„ë¡œì íŠ¸ í´ë”ë¥¼ ë§Œë“¤ê³  video.jsë¥¼ ì„¤ì¹˜í•œë‹¤.

```bash
$ mkdir my-web-player && cd my-web-player
$ npm init -y
$ npm install --save-dev video.js
```

ì´ì œ video.js ëª¨ë“ˆì„ ì´ìš©í•´ ë¡œì»¬ ì˜ìƒ í˜¹ì€ ìœ íŠœë¸Œ ì˜ìƒì„ ì¬ìƒí•´ ë³´ë ¤ê³  í•œë‹¤.

ë¡œì»¬ ì˜ìƒì„ ì¬ìƒ í•˜ë ¤ë©´ 2ë²ˆ ë¶€í„°, ìœ íŠœë¸Œ ì˜ìƒ ì¬ìƒì€ 3ë²ˆ ë¶€í„° ë³´ë©´ ëœë‹¤.

### 2. ì•„ë˜ ëª…ë ¹ì–´ë¡œ static í´ë”ë¥¼ ìƒì„±í•œë‹¤.

```bash
$ mkdir -p public/{img,video,js}
```

- ìƒ˜í”Œ ì´ë¯¸ì§€ë¥¼ img í´ë”ì— test_poster.png ë¡œ ì €ì¥í•œë‹¤. (ëŒ€í‘œ ì´ë¯¸ì§€ìš©)

![ìƒ˜í”Œì´ë¯¸ì§€]({{ site.baseurl }}/public/images/{{ page.title }}/test_poster.png){: width="70%" height="30%"}  

ìƒ˜í”Œ ì´ë¯¸ì§€

- í…ŒìŠ¤íŠ¸ í•  ë™ì˜ìƒì„ video í´ë”ì— test.mp4 ë¡œ ì €ì¥í•œë‹¤. (ë‚œ [ìœ íŠœë¸Œ ì˜ìƒ](https://www.youtube.com/watch?v=LXb3EKWsInQ&t=79s)ì„ ë‹¤ìš´ë¡œë“œ ë°›ì•˜ë‹¤.)

### 3. js í´ë”ì— my-player.js íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

```jsx
var player = videojs('my-player', {
    controls: true,
    autoplay: false,
    preload: 'auto',
    width: '640',
    height: '264',
    poster: 'img/test_poster.png' // ë¡œì»¬ ì˜ìƒë§Œ ì¶”ê°€
});
player.src({ type: 'video/mp4', src: 'video/test.mp4' }); //ë¡œì»¬ ì˜ìƒë§Œ ì¶”ê°€
```

### 4. public í´ë”ì— index.html íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.

```bash
$ npm install --save videojs-youtube // ìœ íŠœë¸Œ ì˜ìƒì„ ìŠ¤íŠ¸ë¦¬ë°í•˜ê¸° ìœ„í•´ ì„¤ì¹˜í•œë‹¤.
```

```html
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>My Web Player</title>
    <link href="video-js.min.css" rel="stylesheet" />
</head>

<!-- ë¡œì»¬ ì˜ìƒì€ ì•„ë˜ì˜ bodyë¥¼ ì´ìš© -->
<body>
	<video id="my-player" class="video-js" data-setup="{}"></video>
        
  <script src="video.min.js"></script>
  <script src="js/my-player.js"></script>
</body>

<!-- ìœ íŠœë¸Œ ì˜ìƒì€ ì•„ë˜ì˜ bodyë¥¼ ì´ìš© -->
<body>
  <video id="my-player" class="video-js" data-setup='{ "techOrder": ["youtube"], "sources": [{ "type": "video/youtube", "src": "https://www.youtube.com/watch?v=LXb3EKWsInQ&t=79s"}] }'>
  </video>
      
  <script src="video.min.js"></script>
  <script src="Youtube.min.js"></script>
  <script src="js/my-player.js"></script>
</body>

</html>
```

### 5. ì„œë²„ ì¸¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ expressë¥¼ ì„¤ì¹˜í•˜ê³  ë£¨íŠ¸ì— app.jsë¥¼ ìƒì„±í•˜ì—¬ ì•„ë˜ ìƒ˜í”Œì„ ì‘ì„±í•œë‹¤.

```bash
$ npm install --save express
```

```jsx
var path = require('path');
var express = require('express');
var app = express();
app.use(express.static(path.join(__dirname, 'public')));
app.use(express.static(path.join(__dirname, 'node_modules/video.js/dist')));
app.use(express.static(path.join(__dirname, 'node_modules/videojs-youtube/dist'))); // ìœ íŠœë¸Œ ì¬ìƒë§Œ ì¶”ê°€

app.get('/', function(req, res) {
  res.sendFile('index.html');
});

app.listen(3000, function() {
  console.log('My Web Player server listening on port 3000');
});
```

- package.jsonì€ ì•„ë˜ì™€ ê°™ë‹¤.

```json
{
  "name": "my-web-player",
  "version": "1.0.0",
  "scripts": {
    "start": "node app"
  },
  "devDependencies": {
    "video.js": "^7.7.5"
  },
  "dependencies": {
    "express": "^4.17.1",
    "videojs-youtube": "^2.6.1"
  }
}
```

- í˜„ì¬ê¹Œì§€ ì™„ì„±ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```bash
.
â”œâ”€â”€ app.js
â”œâ”€â”€ node_modules
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â””â”€â”€ public
    â”œâ”€â”€ img
    â”‚Â Â  â””â”€â”€ test_poster.png
    â”œâ”€â”€ index.html
    â””â”€â”€ video
        â””â”€â”€ test.mp4
```

- í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  [localhost:3000](http://localhost:3000)ìœ¼ë¡œ ì ‘ì†í•œë‹¤.

```bash
$ npm start
```

### ê²°ê³¼ í™”ë©´

![ê²°ê³¼ í™”ë©´]({{ site.baseurl }}/public/images/{{ page.title }}/result.png){: width="70%" height="30%"}  

ğŸ‘ì˜ ë‚˜ì˜¨ë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ [í…Œë§ˆ](https://github.com/videojs/themes)ë¥¼ forestë¡œ ë³€ê²½í•˜ë ¤ê³  í•œë‹¤. ì•„ë˜ ì½”ë“œë¥¼ headì— ì¶”ê°€í•˜ê³ 

```html
<head>
	<link href="https://unpkg.com/@videojs/themes@1/dist/forest/index.css" rel="stylesheet">
</head>
```

videoíƒœê·¸ì˜ classì— vjs-theme-forestë¥¼ ì¶”ê°€í•œë‹¤.

```jsx
<video id="my-player" class="video-js vjs-theme-forest" data-setup="{}"></video>
```

### forest í…Œë§ˆë¥¼ ì ìš©í•œ ê²°ê³¼ í™”ë©´

![forestí…Œë§ˆ ì ìš©]({{ site.baseurl }}/public/images/{{ page.title }}/forest_result.png){: width="70%" height="30%"}  

ì´ì œ [video.js](https://docs.videojs.com/) ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ëª‡ ê°€ì§€ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•  ê²ƒì´ë‹¤.

### shortcut ê¸°ëŠ¥ ì¶”ê°€

[ê¸°ë³¸ê°’](https://www.notion.so/5b2625c969194520b6e456cc28ed7019)

```jsx
// hotkeysë¥¼ trueë¡œ í™œì„±í™”í•˜ë©´ ê¸°ë³¸ê°’ì´ ì ìš©ëœë‹¤.
var player = videojs('my-player', {
    userActions: {
      hotkeys: true
    }
});

// eventë¥¼ ì´ìš©í•´ ìˆì»·ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤. ì¬ìƒ/ì¼ì‹œì •ì§€ keyë¥¼ enterë¡œ ë³€ê²½í•œ ì˜ˆì‹œì´ë‹¤.
var player = videojs('my-player', {
    userActions: {
        hotkeys: function (event) {
            if (event.which === 13) {
                if(this.paused()){
                    this.play();
                }else{
                    this.pause();
                }                
            }
        }
    }
});

player.focus(); // ì˜ìƒ ì»´í¬ë„ŒíŠ¸ì— ì´ˆì ì„ ë§ì¶˜ë‹¤.
```

### 2. ìœ ë™ì ì¸ í™”ë©´

- fluid ì˜µì…˜ì„ trueë¡œ ì„¤ì •í•˜ë©´, í”Œë ˆì´ì–´ê°€ í™”ë©´ í¬ê¸°ì— ìœ ë™ì ìœ¼ë¡œ ë§ì¶°ì§„ë‹¤.

```jsx
var player = videojs('my-player', {
	fluid: true
});
```

ì´ì™¸ì—ë„ ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ë“¤ì„ ì›í•˜ëŠ” ëŒ€ë¡œ ë³€ê²½í•´ì„œ ë‚˜ë§Œì˜ í”Œë ˆì´ì–´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

### ìµœì¢… ê²°ê³¼
<iframe width="560" height="315" src="https://www.youtube.com/embed/lSPktX-ZboQ" frameborder="0" allowfullscreen></iframe>